(this.webpackJsonpuniversity=this.webpackJsonpuniversity||[]).push([[0],{131:function(e,t,n){e.exports=n(281)},136:function(e,t,n){},137:function(e,t,n){},142:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},233:function(e,t){},237:function(e,t,n){},279:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(49),s=n.n(c),o=(n(136),n(5)),u=n(10),i=n(23),l=(n(137),function(e){var t=e.name,n=e.token,r=e.role;return a.a.createElement("header",{className:"main-navbar"},a.a.createElement("div",{className:"main-navbar__container"},a.a.createElement("div",{className:"main-navbar__item"},a.a.createElement(u.b,{exact:!0,to:"/home"},"Home"))," ",!n&&a.a.createElement("div",{className:"main-navbar__item"},a.a.createElement(u.b,{to:"/auth"},"Auth")),"Admin"===r&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"main-navbar__item navbar__item__proffesores"},a.a.createElement(u.b,{to:"/proffesores"},"Proffesores")),a.a.createElement("div",{className:"main-navbar__item navbar__item__proffesores"},a.a.createElement(u.b,{to:"/students"},"students"))),n&&"Proffesor"!==r&&a.a.createElement("div",{className:"main-navbar__item navbar__item__courses"},a.a.createElement(u.b,{to:"/courses"},"Courses")),n&&a.a.createElement(a.a.Fragment,null,"Admin"===r?a.a.createElement("div",{className:"main-navbar__item main-navbar__item__me"},a.a.createElement(u.b,{to:"/payments"},"payments")):a.a.createElement("div",{className:"main-navbar__item  main-navbar__item__me"},a.a.createElement(u.b,{to:"/activity"},"activity")),a.a.createElement("div",{className:"main-navbar__item navbar__my__profile__role__name"},a.a.createElement(u.b,{to:"/my-profile"},a.a.createElement("p",null,a.a.createElement("b",null," ",t),"  role (".concat(r,")"))))),n&&a.a.createElement("div",{className:"main-navbar__item"},a.a.createElement(u.b,{to:"/logout"},"Logout")))," ")}),m=(n(142),function(){return a.a.createElement("div",null,"Home")}),d=n(1),p=n.n(d),f=n(2),b=function(e){var t=e.value,n=e.handleChange,r=e.name,c=e.placeholder,s=e.label,o=e.type;return a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,s),a.a.createElement("input",{className:"input-block",type:o,placeholder:c,name:r,value:t,onChange:n}))},v=n(6),h=n.n(v),g="dyloyoawh",E="https://api.cloudinary.com/v1_1/".concat(g,"/image/upload"),I="https://res.cloudinary.com/".concat(g,"/image/upload");function y(e,t){return{name:e.name,publicId:t,userId:e.userId}}function x(e){return{method:"POST",url:"/graphql-university",data:e}}var _=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(E,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=new FormData;return t.append("file",e),t.append("upload_preset","default_preset"),t},k=n(52),O=n(116),j=function(e,t){var n=e.target,r=n.value,a=n.name;t((function(e){return Object(O.a)({},e,Object(k.a)({},a,r))}))},N=n(129),C=(n(160),function(e){var t=e.cloudinaryImage,n=e.onDrop,r=e.image,c=Object(N.a)({onDrop:n}),s=c.getRootProps,o=c.getInputProps;return a.a.createElement("div",Object.assign({className:"mb-2 dropzone__image__container"},s()),a.a.createElement("input",o()),t||r?t?a.a.createElement("img",{className:"dropzone",src:"".concat(I,"/").concat(t),alt:"profile"}):a.a.createElement("img",{className:"dropzone",src:"".concat(I,"/").concat(r),alt:"profile"}):null)}),S=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r,a,c,s,o,u,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"Admin",a=!1,c={query:'\n                      query {\n                        loginProffesor(email: "'.concat(t.email,'", password: "').concat(t.password,'") {\n                          userId\n                          name\n                          token\n                          role\n                          publicId\n                        }\n                      }\n                    ')},n||(c={query:'\n                    mutation {\n                        createProffesor(proffesorInput: {email: "'.concat(t.email,'", password: "').concat(t.password,'", name: "').concat(t.name,'"}) {\n                          userId\n                          name\n                          token\n                          role\n                          publicId\n                        }\n                      }\n                      ')}),e.prev=4,s=x(c),e.next=8,h()(s);case 8:if(o=e.sent,u=o.data,!n){e.next=21;break}if(u.data.loginProffesor){e.next=13;break}throw new Error(u.errors[0].message);case 13:if("Proffesor"!==r){e.next=17;break}localStorage.setItem("credentials",JSON.stringify(u.data.loginProffesor)),e.next=19;break;case 17:return e.next=19,u.data.loginProffesor;case 19:e.next=24;break;case 21:if(u.data.createProffesor){e.next=23;break}throw new Error(u.errors[0].message);case 23:"Proffesor"===r&&localStorage.setItem("credentials",JSON.stringify(u.data.createProffesor));case 24:a=!0,e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(4),new Error(e.t0.message);case 30:return e.abrupt("return",a);case 31:case"end":return e.stop()}}),e,null,[[4,27]])})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(p.a.mark((function e(t,n,r){var a,c,s,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,c={query:'\n                  query {\n                    loginStudent(email: "'.concat(t.email,'", password: "').concat(t.password,'") {\n                      email\n                      userId\n                      name\n                      token\n                      role\n                      publicId\n                    }\n                  }\n                ')},n||(c={query:'\n                 mutation {\n                    createStudent(studentInput: \n                        {email: "'.concat(t.email,'", \n                        password: "').concat(t.password,'", \n                        name: "').concat(t.name,'" , \n                        publicId: "').concat(r.publicId,'"}) {\n    \n                        userId\n                        name\n                        token\n                        role\n                        publicId\n                    }\n                  }\n                  ')}),e.prev=3,s=x(c),e.next=7,h()(s);case 7:if(o=e.sent,u=o.data,!n){e.next=15;break}if(u.data.loginStudent){e.next=12;break}throw new Error(u.errors[0].message);case 12:localStorage.setItem("credentials",JSON.stringify(u.data.loginStudent)),e.next=18;break;case 15:if(u.data.createStudent){e.next=17;break}throw new Error(u.errors[0].message);case 17:localStorage.setItem("credentials",JSON.stringify(u.data.createStudent));case 18:a=!0,e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(3),new Error(e.t0.message);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t,n,r){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r,a,c,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a={query:'\n                      query {\n                        loginAdmin(email: "'.concat(t.email,'", password: "').concat(t.password,'") {\n                            userId\n                            name\n                            token\n                            role\n                            publicId\n                        }\n                      }\n                    ')},n||(a={query:'\n                    mutation {\n                        createAdmin(userInput: {email: "'.concat(t.email,'", password: "').concat(t.password,'", name: "').concat(t.name,'"}) {\n                            userId\n                            email\n                            name\n                            token\n                            role\n                            publicId\n                        }\n                      }\n                      ')}),e.prev=3,c=x(a),e.next=7,h()(c);case 7:if(s=e.sent,o=s.data,!n){e.next=15;break}if(o.data.loginAdmin){e.next=12;break}return e.abrupt("return",console.error(o.errors[0].message));case 12:localStorage.setItem("credentials",JSON.stringify(o.data.loginAdmin)),e.next=18;break;case 15:if(o.data.createAdmin){e.next=17;break}return e.abrupt("return",console.error(o.errors[0].message));case 17:localStorage.setItem("credentials",JSON.stringify(o.data.createAdmin));case 18:r=!0,e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(3),console.error(e.t0.message);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t,n){return e.apply(this,arguments)}}(),A=(n(161),function(){var e=Object(r.useState)({email:"",password:"",name:"",image:""}),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)("default_avatar_k049ck"),u=Object(o.a)(s,2),i=u[0],l=u[1],m=Object(r.useState)(!0),d=Object(o.a)(m,2),v=d[0],h=d[1],g=Object(r.useState)("Student"),E=Object(o.a)(g,2),I=E[0],y=E[1],x=Object(r.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t[0]),e.next=3,_(n);case 3:r=e.sent,a=r.data,l((function(){return a.public_id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),k=function(e){j(e,c)},O=function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,"Admin"!==I){e.next=6;break}return e.next=5,q(n,v);case 5:r=e.sent;case 6:if("Proffesor"!==I){e.next=10;break}return e.next=9,S(n,v,"Proffesor");case 9:r=e.sent;case 10:if("Student"!==I){e.next=14;break}return e.next=13,P(n,v,i);case 13:r=e.sent;case 14:"boolean"===typeof r&&r&&window.location.replace("/"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:O,className:"form-container"},a.a.createElement(b,{label:"Email",value:n.email,handleChange:k,name:"email",placeholder:"Email...",type:"text"}),a.a.createElement(b,{label:"Password",value:n.password,handleChange:k,name:"password",placeholder:"password...",type:"password"}),!v&&a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{cloudinaryImage:i,onDrop:x,image:n.image}),a.a.createElement(b,{label:"Name",value:n.name,handleChange:k,name:"name",placeholder:"name...",type:"text"})),a.a.createElement("div",{className:"form-actionsw"+(v?" isLogin":" signup")},a.a.createElement("button",{type:"submit",className:"btn-secondary",disabled:function(){var e=!1;return v||"Proffesor"!==I||(e=!0),v||"Admin"!==I||(e=!0),e}()},v?"Login":"Signup"),a.a.createElement("button",{onClick:function(){h((function(e){return!e}))},className:"btn-warning",type:"button"}," method "),a.a.createElement("select",{value:I,onChange:function(e){y(e.target.value)},className:"role__select"},a.a.createElement("option",{value:"Admin"},"Admin"),a.a.createElement("option",{value:"Proffesor"},"Proffesor"),a.a.createElement("option",{value:"Student"},"Student"))))}),D=n(3),R=n(16),F=Object(R.b)({name:"course",initialState:{proffesorCourses:[],courses:[],course:{},loading:!1},reducers:{setProffesorCourses:function(e,t){e.proffesorCourses=t.payload},setCourses:function(e,t){e.courses=t.payload},setCourse:function(e,t){e.course=t.payload},setLoading:function(e,t){e.loading=t.payload}}}),L=F.actions,J=L.setProffesorCourses,z=L.setCourses,T=L.setCourse,M=L.setLoading,H=F.reducer,U=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={query:'\n            query {\n                getProffesorCourses(proffesorId: "'.concat(e,'") {\n                    courseId\n                    name\n                    points \n                    description \n                    proffesorId \n                    registerStudents\n                    publicId\n            }\n          }\n              ')},t.prev=1,a=x(r),t.next=5,h()(a);case 5:return c=t.sent,s=c.data,t.next=9,n(J(s.data.getProffesorCourses));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={query:'\n            query {\n                getCourse(courseId: "'.concat(e,'") {\n                    name\n                    points \n                    courseId\n                    description \n                    publicId\n                    proffesorId \n                    registerStudents\n                    courseChat {\n                        sender\n                        name\n                        message\n                        time\n                        publicId\n                    }\n            }\n          }\n              ')},t.prev=1,c=x(a),t.next=5,h()(c);case 5:if(s=t.sent,(o=s.data).data.getCourse){t.next=9;break}return t.abrupt("return",console.error(o.errors[0].message));case 9:return t.next=11,o.data.getCourse;case 11:return r=t.sent,t.next=14,n(T(o.data.getCourse));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.error(t.t0.message);case 19:return t.abrupt("return",r);case 20:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={query:'\n            query {\n                getCourses(studentId: "'.concat(e,'") {\n                    courseId\n                    name\n                    points \n                    description \n                    proffesorId \n                    registerStudents\n                    publicId\n            }\n          }\n              ')},t.prev=1,a=x(r),t.next=5,h()(a);case 5:if(c=t.sent,(s=c.data).data.getCourses){t.next=9;break}return t.abrupt("return",console.error(s.errors[0].message));case 9:return t.next=11,n(z(s.data.getCourses));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},B=function(e,t){return function(){var n=Object(f.a)(p.a.mark((function n(r){var a,c,s,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(M(!0));case 2:return a={query:'\n            mutation {\n                registerStudentInCourses(courseId:  "'.concat(e,'", studentId: "').concat(t,'") {\n                    courseId\n                    name\n                    points \n                    description \n                    proffesorId \n                    registerStudents\n                    publicId\n                }\n              }\n            ')},n.prev=3,c=x(a),n.next=7,h()(c);case 7:if(s=n.sent,(o=s.data).data.registerStudentInCourses){n.next=11;break}return n.abrupt("return",console.error(o.errors[0].message));case 11:return n.next=13,r(z(o.data.registerStudentInCourses));case 13:setTimeout(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(M(!1));case 2:case"end":return e.stop()}}),e)}))),2e3),n.next=19;break;case 16:return n.prev=16,n.t0=n.catch(3),n.abrupt("return",console.error(n.t0.message));case 19:case"end":return n.stop()}}),n,null,[[3,16]])})));return function(e){return n.apply(this,arguments)}}()},K=function(e,t){return function(){var n=Object(f.a)(p.a.mark((function n(r){var a,c,s,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={query:'\n            mutation {\n                removeCourse(courseId:  "'.concat(e,'", proffesorId: "').concat(t,'") {\n                    courseId\n                    name\n                    points \n                    description \n                    proffesorId \n                    registerStudents\n                    publicId\n                }\n              }\n            ')},n.prev=1,c=x(a),n.next=5,h()(c);case 5:if(s=n.sent,(o=s.data).data.removeCourse){n.next=9;break}return n.abrupt("return",console.error(o.errors[0].message));case 9:return n.next=11,r(J(o.data.removeCourse));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}()},X=n(55),Y=Object(R.b)({name:"student",initialState:{students:[],student:{},studentCourses:[]},reducers:{setStudents:function(e,t){e.students=t.payload},setStudent:function(e,t){e.student=t.payload},setStudentCourses:function(e,t){e.studentCourses=t.payload}}}),G=Y.actions,Q=G.setStudent,V=G.setStudents,Z=G.setStudentCourses,ee=Y.reducer,te=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),r={query:'\n                query {\n                    getStudent(studentId: "'.concat(e,'") {\n                        userId\n                        name\n                        email \n                        role \n                        publicId\n                }\n              }\n                  ')},t.prev=2,a=x(r),t.next=6,h()(a);case 6:if(c=t.sent,(s=c.data).data.getStudent){t.next=10;break}return t.abrupt("return",console.error(s.errors[0].message));case 10:n(Q(s.data.getStudent)),t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",console.error(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={query:'\n                query {\n                    getStudentCourses(studentId: "'.concat(e,'") {\n                        courseId\n                        name\n                        points\n                        description\n                        proffesorId\n                        registerStudents\n                        publicId\n                }\n              }\n                  ')},t.prev=1,a=x(r),t.next=5,h()(a);case 5:if(c=t.sent,(s=c.data).data.getStudentCourses){t.next=9;break}return t.abrupt("return",console.error(s.errors[0].message));case 9:return t.next=11,n(Z(s.data.getStudentCourses));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",console.error(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},re=function(e,t){return function(){var n=Object(f.a)(p.a.mark((function n(r){var a,c,s,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={query:'\n                mutation {\n                    registerCourseInStudent( studentId: "'.concat(e,'", courseId:  "').concat(t,'") {\n                        studentId\n                        publicId\n                        name\n                        role \n                        registerCourses\n                    }\n                  }\n                ')},n.prev=1,c=x(a),n.next=5,h()(c);case 5:if(s=n.sent,(o=s.data).data.registerCourseInStudent){n.next=9;break}return n.abrupt("return",console.error(o.errors[0].message));case 9:return n.next=11,r(V(o.data.registerCourseInStudent));case 11:n.next=16;break;case 13:return n.prev=13,n.t0=n.catch(1),n.abrupt("return",console.error(n.t0.message));case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}()},ae=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={query:'\n                mutation {\n                    updateStudent( studentId: "'.concat(e.userId,'", name: "').concat(e.name,'",\n                      publicId: "').concat(e.publicId,'") {\n                        userId\n                        name\n                        role \n                        registerCourses\n                        publicId\n                    }\n                  }\n                ')},t.prev=1,a=x(r),t.next=5,h()(a);case 5:if(c=t.sent,(s=c.data).data.updateStudent){t.next=9;break}return t.abrupt("return",console.error(s.errors[0].message));case 9:return t.next=11,n(Q(s.data.updateStudent));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",console.error(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},ce=(n(167),function(e){var t=e.name,n=e.points,r=e.description,c=e.courseId,s=e.userId,u=e.courses,i=e.length,l=e.role,m=e.publicId,d=a.a.useState([]),b=Object(o.a)(d,2),v=b[0],h=b[1];a.a.useEffect((function(){u.forEach((function(e){-1!==e.registerStudents.indexOf(s)&&h((function(t){return[].concat(Object(X.a)(t),[e.courseId])}))}))}),[u,s]);var g=Object(D.b)(),E=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you wish to sign to this course? this is cost 2000$")){e.next=5;break}return e.next=3,g(B(c,s));case 3:return e.next=5,g(re(s,c));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:" card card-course",key:t},a.a.createElement("h5",{className:"card-title",style:{textAlign:"center"}},t," "),null!==m?a.a.createElement("img",{className:"courses__list__image",src:"".concat(I,"/").concat(m),alt:"profile",height:"100",width:"200"}):a.a.createElement("img",{className:"courses__list__image",src:"".concat(I,"/download_nljny4"),alt:"profile",height:"100",width:"200"}),"                ",a.a.createElement("div",{className:"card-body card__course__body"},a.a.createElement("p",{className:"card-title"},"points : ",a.a.createElement("b",null,n)," "),a.a.createElement("div",null,a.a.createElement("small",{className:"card-title",style:{fontSize:"12px"}},"description : ",r)),a.a.createElement("div",{className:"card__small__register"},"Student"===l&&(-1!==v.indexOf(c)?a.a.createElement("p",{style:{fontSize:"14px"},className:"text-success"},a.a.createElement("b",null,"you already register for this course")):a.a.createElement("button",{className:"btn btn-success",disabled:-1!==v.indexOf(c),onClick:E},"sign up")),a.a.createElement("div",{className:"sweet-loading"})),"Student"!==l&&a.a.createElement("small",{className:"card__small__register"},"already ",a.a.createElement("b",null,i," student ",i>1?"s are":"is"),"   register!"))))}),se=(n(168),function(e){var t=e.courses,n=e.role,r=e.userId;return a.a.createElement("div",{className:"courses__list__container"},t&&t.map((function(e){return a.a.createElement(ce,{length:e.registerStudents.length,courses:t,userId:r,role:n,courseId:e.courseId,key:e.name,name:e.name,points:e.points,description:e.description,publicId:e.publicId})})))}),oe=n(120),ue=n(8),ie=n(121);function le(){var e=Object(oe.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return le=function(){return e},e}var me=Object(ue.css)(le()),de=function(e){var t=e.loading;return a.a.createElement(ie.ClipLoader,{css:me,size:150,color:"#123abc",loading:t})},pe=(n(193),function(e){var t=e.userId,n=e.role,r=Object(D.c)((function(e){return e.course})),c=r.courses,s=r.loading,o=Object(D.b)();return a.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o($(t));case 2:return e.next=4,o(ne(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,o]),a.a.createElement(a.a.Fragment,null,s?a.a.createElement(de,{loading:s}):a.a.createElement("div",{className:"courses__container"},c.length>0&&a.a.createElement(se,{courses:c,userId:t,role:n})))}),fe=(n(194),function(){return a.a.createElement("div",null,"NotFound")}),be=function(){return a.a.useEffect((function(){return localStorage.removeItem("credentials"),window.location.replace("/auth")}),[]),null},ve=Object(R.b)({name:"proffesor",initialState:{proffesors:[],proffesorCourses:[],proffesor:{}},reducers:{getProfessors:function(e,t){e.proffesors=t.payload},setProfessor:function(e,t){e.proffesor=t.payload},setProffesorRegisterCourses:function(e,t){e.proffesorCourses=t.payload}}}),he=ve.actions,ge=he.getProfessors,Ee=he.setProfessor,Ie=he.setProffesorRegisterCourses,ye=ve.reducer,xe=function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r={query:'\n            query {\n                proffesorsList(name: "ori mazrafi") {\n                    userId\n                    name\n                    email\n                    registerCourses\n                    publicId\n            }\n          }\n              '},e.prev=2,a=x(r),e.next=6,h()(a);case 6:if(c=e.sent,(s=c.data).data.proffesorsList){e.next=10;break}throw new Error("there are no user");case 10:t(ge(s.data.proffesorsList)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0.message);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()},_e=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,a={query:'\n            query {\n                getProffesor(proffesorId: "'.concat(e,'") {\n                    userId\n                    name\n                    registerCourses\n                    email\n                    publicId\n            }\n          }\n              ')},t.prev=2,c=x(a),t.next=6,h()(c);case 6:if(s=t.sent,(o=s.data).data.getProffesor){t.next=10;break}throw new Error("there are no user");case 10:n(Ee(o.data.getProffesor)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.error("error",t.t0);case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.imageName),r=!1,a={query:'\n                    mutation {\n                        updateProffesor( proffesorId: "'.concat(e.userId,'", name: "').concat(e.name,'",\n                         image: "').concat(e.imageName,'", publicId: "').concat(e.publicId,'") {\n                            userId\n                            name\n                            email\n                            registerCourses\n                            publicId\n                        }\n                      }\n                    ')},t.prev=3,c=x(a),t.next=7,h()(c);case 7:return s=t.sent,o=s.data,t.next=11,n(Ee(o.data.updateProffesor));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.error("ernjknror",t.t0);case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}()},ke=(n(195),function(e){var t,n=e.proffesorsList,r=Object(D.b)(),c=Object(D.c)((function(e){return e.proffesor})).proffesorCourses;return a.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:'\n            query {\n                getProffesorRegisterCourses(name: "ori mazrafi") {\n                    courseId\n                    name\n                    proffesorId\n            }\n          }\n              '},e.prev=1,r=x(n),e.next=5,h()(r);case 5:if(a=e.sent,(c=a.data).data.getProffesorRegisterCourses){e.next=9;break}throw new Error("there are no user");case 9:t(Ie(c.data.getProffesorRegisterCourses)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),c&&(t=c.reduce((function(e,t){return(e[t.proffesorId]||(e[t.proffesorId]=[])).push({courseId:t.courseId,name:t.name}),e}),{})),a.a.createElement("div",{className:"proffesor__list__container"},n.map((function(e){return a.a.createElement("div",{className:"card",key:e.email},a.a.createElement("h5",{className:"card-title"}," ",e.name),a.a.createElement("img",{src:"".concat(I,"/").concat(e.publicId),alt:"profile"}),a.a.createElement("div",{className:"card-body card__proffesor__body"},a.a.createElement("h5",null,"proffesor courses:"),a.a.createElement("div",{className:"card__small__register"},t[e.userId]&&t[e.userId].map((function(e){return a.a.createElement("h6",{key:e.name},a.a.createElement("b",null," ",e.name))})))))})))}),Oe=function(e){var t=e.handleSubmit,n=e.data,r=e.handleChange;return a.a.createElement("div",{className:"form__wrapper"},a.a.createElement("form",{onSubmit:t,className:"form-container"},void 0!==n.email&&a.a.createElement(b,{label:"Email",value:n.email,handleChange:r,name:"email",placeholder:"Email...",type:"text"}),void 0!==n.password&&a.a.createElement(b,{label:"Password",value:n.password,handleChange:r,name:"password",placeholder:"password...",type:"password"}),void 0!==n.name&&a.a.createElement(b,{label:"Name",value:n.name,handleChange:r,name:"name",placeholder:"name...",type:"text"}),void 0!==n.points&&a.a.createElement(b,{label:"Points",value:n.points,handleChange:r,name:"points",type:"number"}),void 0!==n.description&&a.a.createElement(b,{label:"Description",value:n.description,handleChange:r,name:"description",placeholder:"Description...",type:"text"}),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))},je=(n(196),function(){var e=Object(D.b)(),t=Object(D.c)((function(e){return e.proffesor})).proffesors,n=a.a.useState({email:"",password:"",name:""}),c=Object(o.a)(n,2),s=c[0],u=c[1],i=a.a.useState(!0),l=Object(o.a)(i,2),m=l[0],d=l[1];Object(r.useEffect)((function(){(function(){var t=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(xe());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[m,e]);var b=function(){var t=Object(f.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,S(s,!1,"Admin");case 4:return r=t.sent,t.next=7,e(xe());case 7:r&&(d(!0),u({email:"",password:"",name:""})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"proffesors__container"},a.a.createElement("button",{className:"btn btn-primary add-proffesor",onClick:function(){d((function(e){return!e}))}},m?"Add proffesor":"display Proffesors"),m?a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(ke,{proffesorsList:t})):a.a.createElement(Oe,{handleSubmit:b,data:s,handleChange:function(e){j(e,u)}}))}),Ne=(n(197),function(e){var t=e.modal,n=e.handleClose,c=e.userRole,s=e.cloudinaryImage,u=e.onDrop,i=e.user,l=e.handleChange,m=e.handleSave,d=Object(r.useState)("modal"),p=Object(o.a)(d,2),f=p[0],v=p[1];Object(r.useEffect)((function(){return document.addEventListener("mousedown",h,!1),v((function(){return t?"modal modal-open":"modal modal-close"})),function(){document.removeEventListener("mousedown",h,!1)}}),[t]);var h=function(e){var t=e.target.className;"modal-bg"!==t&&"btn-close"!==t&&"paper-btn"!==t||n(),"paper-btn save"===t&&m()};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:f},a.a.createElement("label",{className:"modal-bg",htmlFor:"modal-1"}),a.a.createElement("div",{className:"modal-body"},a.a.createElement("h4",{className:"modal-title"},i.name?"Update ":"Add ",c),a.a.createElement(C,{cloudinaryImage:s,onDrop:u,image:i.publicId}),a.a.createElement("label",{className:"btn-close",onClick:h},"X"),a.a.createElement("h5",{className:"modal-subtitle"},a.a.createElement(b,{label:"Name",value:i.name,handleChange:l,name:"name",placeholder:"Name...",type:"text"}),"proffesor"===c&&a.a.createElement("div",null,a.a.createElement("p",null,"Email"),a.a.createElement("div",{className:"sm-2 col border"},i.email)),"course"===c&&a.a.createElement(b,{label:"Points",value:i.points,handleChange:l,name:"points",type:"number"}),"course"===c&&a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Description"),a.a.createElement("textarea",{className:"input-block",placeholder:"Description...",value:i.description,onChange:l,name:"description"}))),a.a.createElement("label",{className:"paper-btn",onClick:h},"close!"),a.a.createElement("button",{className:"paper-btn btn-secondary",onClick:m,disabled:!("course"!==c||i.name||i.points||i.description)||"proffesor"===c&&!i.name&&!i.publicId&&!0},"Save!"))))}),Ce=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r,a,c,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.points=Number(t.points),r=!1,e.prev=2,a={query:'\n                    mutation {\n                        createCourse(courseInput: {name: "'.concat(t.name,'", points: ').concat(t.points,', description: "').concat(t.description,'"\n                        , proffesorId: "').concat(t.proffesorId,'"\n                        , publicId: "').concat(n,'"\n                    }) {\n                            _id\n                    }\n                }\n                ')},c=x(a),e.next=7,h()(c);case 7:if(s=e.sent,(o=s.data).data.createCourse){e.next=11;break}return e.abrupt("return",console.error(new Error(o.errors[0].message)));case 11:r=!0,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",console.error(e.t0.message));case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r,a,c,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"number"===typeof t.points&&(t.points=Number(t.points)),r=!1,e.prev=2,a={query:'\n                    mutation {\n                        updateCourse(\n                            courseUpdateInput: {\n                            courseId: "'.concat(t.courseId,'"\n                            name: "').concat(t.name,'", \n                            points: ').concat(t.points,', \n                            description: "').concat(t.description,'",\n                            publicId: "').concat(n,'"\n                    }) {\n                            _id\n                    }\n                }\n                ')},c=x(a),e.next=7,h()(c);case 7:if(s=e.sent,(o=s.data).data.updateCourse){e.next=11;break}return e.abrupt("return",console.error(new Error(o.errors[0].message)));case 11:r=!0,e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(2),e.abrupt("return",console.error(e.t0.message));case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),Pe=(n(198),function(e){var t=e.proffesorId,n=e.publicId,c=e.name,s=Object(i.g)(),u=Object(D.c)((function(e){return e.course})).proffesorCourses,l=Object(D.b)(),m=Object(r.useState)(!1),d=Object(o.a)(m,2),b=d[0],v=d[1],h=Object(r.useState)(!1),g=Object(o.a)(h,2),E=g[0],y=g[1],x=Object(r.useState)({courseId:"",name:"",points:0,description:"",proffesorId:t,publicId:""}),k=Object(o.a)(x,2),O=k[0],N=k[1],C=Object(r.useState)("download_nljny4"),S=Object(o.a)(C,2),P=S[0],q=S[1];Object(r.useEffect)((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(U(t));case 2:return e.next=4,l(_e(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l,t,b]);var A=function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you wish to delete this item?")){e.next=3;break}return e.next=3,l(K(n,t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){N((function(){return{courseId:"",name:"",points:0,description:"",proffesorId:t,publicId:"download_nljny4",role:"",registerStudents:[]}})),setTimeout((function(){v(!0)}),200)},F=Object(r.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t[0]),e.next=3,_(n);case 3:r=e.sent,a=r.data,q((function(){return a.public_id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),L=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!1,!E){e.next=9;break}return e.next=5,Se(O,P);case 5:e.sent&&setTimeout((function(){v(!1)}),1e3),e.next=13;break;case 9:return e.next=11,Ce(O,P);case 11:e.sent&&setTimeout((function(){v(!1)}),1e3);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"proffesor-activity__wrapper"},a.a.createElement("div",{className:"row flex-spaces child-borders"},a.a.createElement("label",{className:"paper-btn margin",onClick:R},"Add Course")),a.a.createElement(Ne,{modal:b,handleClose:function(){y((function(){return!1})),v(!1),q((function(){return""}))},handleModal:R,userRole:"course",cloudinaryImage:P,onDrop:F,user:O,handleChange:function(e){j(e,N)},handleSave:L}),a.a.createElement("div",{className:"proffesor-activity__container"},a.a.createElement("div",{className:"professor__activity__courses"},u.length>0&&u.map((function(e){var r=e.registerStudents.length;return a.a.createElement("div",{className:"card",key:e.name},a.a.createElement("h5",null,e.name),null!==e.publicId?a.a.createElement("img",{className:"course__proffesor",src:"".concat(I,"/").concat(e.publicId),alt:"profile"}):a.a.createElement("img",{className:"course__proffesor",src:"".concat(I,"/download_nljny4"),alt:"profile"}),a.a.createElement("div",{className:"card-body proffesor_course__body"},a.a.createElement("p",null,"points : ",e.points),a.a.createElement("h6",null,a.a.createElement("b",null,"description"),"   ",e.description),0===r&&a.a.createElement("div",{className:"course__button__container"},a.a.createElement("button",{className:"btn btn-small btn-primary",onClick:function(t){return function(e){q((function(){return e.publicId})),y((function(){return!0})),N((function(){return{courseId:e.courseId,name:e.name,points:e.points,description:e.description,proffesorId:e.proffesorId,publicId:e.publicId}})),v(!0)}(e)}},"Edit"),a.a.createElement("button",{className:"btn btn-small btn-danger",onClick:function(t){return A(e.courseId)}},"remove")),a.a.createElement("small",{className:"proffesor__register__students__text text-primary"},r>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("h6",null,"".concat(r,r>1?" Registered Students":" Registered Student")),a.a.createElement("button",{className:"btn btn-success",onClick:function(){return r=e.courseId,console.log(c),void s.push("/chat/".concat(r),{proffesorId:t,courseId:r,name:c,publicId:n});var r}},"course chat")):a.a.createElement("b",null,"No Register yet."))))})))))}),qe=(n(199),function(e){var t=e.studentId,n=e.name,r=e.publicId,c=Object(i.g)(),s=Object(D.b)(),o=Object(D.c)((function(e){return e.student})).studentCourses;a.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(ne(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,t]);return a.a.createElement("div",{className:"student__activity__wrapper"},a.a.createElement("div",{className:"student__activity__headline"},a.a.createElement("h1",null,"my courses!"),a.a.createElement("h3",null,"currently you are learning"," "+o.length," courses",a.a.createElement("br",null),"and a total of"," ",o&&o.reduce((function(e,t){return e+t.points}),0)," points to your degree")),a.a.createElement("div",{className:"student__activity__container"},a.a.createElement("div",{className:"student__activity__courses"},o.length>0&&o.map((function(e){return a.a.createElement("div",{className:"card",key:e.name},a.a.createElement("img",{className:"student__activity",src:"".concat(I,"/").concat(e.publicId),alt:"profile",height:"100",width:"200"}),a.a.createElement("div",{className:"card-body student__activity__card__body"},a.a.createElement("p",{className:"card-title"},"name : ",e.name),a.a.createElement("b",null,a.a.createElement("p",{className:"card-title"},"points : ",e.points)),a.a.createElement("p",{className:"card-title"},"description : ",e.description),a.a.createElement("button",{className:"btn btn-success",onClick:function(){return a=e.courseId,void c.push("/chat/".concat(a),{studentId:t,courseId:a,name:n,publicId:r});var a}},"course chat")))})))))}),Ae=(n(200),function(e){var t=e.role,n=e.userId,r=e.name,c=e.publicId;return a.a.createElement("div",{className:"activity__container"},"Proffesor"===t&&a.a.createElement(Pe,{proffesorId:n,publicId:c,name:r}),"Student"===t&&a.a.createElement(qe,{studentId:n,name:r,publicId:c}))}),De=(n(201),n(202),function(e){var t=e.handleModal,n=e.user,r=e.role;return a.a.createElement("div",{className:"profile__container"},a.a.createElement("h4",null,n.name),a.a.createElement("div",{className:"card profile__card"},n&&n.publicId&&a.a.createElement("img",{className:"proffesor__profile",src:"".concat(I,"/").concat(n.publicId),alt:"profile"}),a.a.createElement("div",{className:"card-body"},a.a.createElement("div",null,"Proffesor"===r&&a.a.createElement("p",{className:"proffesor__register__courses text-primary"},n.registerCourses&&a.a.createElement("small",null,"currently you have ",a.a.createElement("b",null," ",n.registerCourses.length," ")," courses that students can register to"))),a.a.createElement("div",{className:"row flex-spaces child-borders"},a.a.createElement("label",{className:"paper-btn margin",onClick:t},"Update")))))}),Re=function(e){var t=e.userId,n=e.role,c=Object(D.b)(),s=Object(D.c)((function(e){return e.proffesor})).proffesor;a.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(_e(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,t]);var u=Object(r.useState)(!1),i=Object(o.a)(u,2),l=i[0],m=i[1],d=Object(r.useState)({name:"",image:s.publicId,email:s.email}),b=Object(o.a)(d,2),v=b[0],h=b[1],g=function(){m(!0),h((function(){return{name:s.name,image:s.publicId,email:s.email}}))},E=Object(r.useState)(s.publicId),I=Object(o.a)(E,2),x=I[0],k=I[1],O=Object(r.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t[0]),e.next=3,_(n);case 3:r=e.sent,a=r.data,k((function(){return a.public_id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),N=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y({name:v.name||s.name,userId:s.userId},x||s.publicId),e.next=3,c(we(t));case 3:setTimeout((function(){m(!1)}),1e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(De,{role:n,user:s,handleModal:g}),a.a.createElement(Ne,{modal:l,handleClose:function(){m(!1),k((function(){return s.publicId}))},handleModal:g,userRole:"proffesor",cloudinaryImage:x,onDrop:O,user:v,handleChange:function(e){j(e,h)},handleSave:N}))},Fe=(n(203),function(e){var t=e.userId,n=e.role,c=Object(D.c)((function(e){return e.student})).student,s=Object(D.b)(),u=Object(r.useState)(c.publicId),i=Object(o.a)(u,2),l=i[0],m=i[1],d=Object(r.useState)(!1),b=Object(o.a)(d,2),v=b[0],h=b[1],g=Object(r.useState)({name:"",image:""}),E=Object(o.a)(g,2),I=E[0],x=E[1];a.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(te(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,t]);var k=function(){x((function(){return{name:c.name,image:c.publicId}})),m((function(){return c.publicId})),h(!0)},O=Object(r.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t[0]),e.next=3,_(n);case 3:r=e.sent,a=r.data,m((function(){return a.public_id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),N=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y({name:I.name||c.name,userId:c.userId},l||c.publicId),e.next=3,s(ae(t));case 3:setTimeout((function(){h(!1)}),1e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(De,{user:c,handleModal:k,role:n}),a.a.createElement(Ne,{handleModal:k,modal:v,handleClose:function(){h(!1),m((function(){return""}))},userRole:c.role,cloudinaryImage:l,onDrop:O,user:I,handleChange:function(e){j(e,x)},handleSave:N}))}),Le=Object(R.b)({name:"admin",initialState:{admin:{userId:"",name:"",role:"",email:"",publicId:""}},reducers:{setAdmin:function(e,t){e.admin=t.payload},updateAdmin:function(e,t){e.admin=t.payload}}}),Je=Le.actions.setAdmin,ze=Le.reducer,Te=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={query:'\n                query {\n                    getAdmin(adminId: "'.concat(e,'") {\n                        userId\n                        name\n                        token \n                        role \n                        email\n                        publicId\n                }\n              }\n                  ')},t.prev=1,a=x(r),t.next=5,h()(a);case 5:if(c=t.sent,(s=c.data).data.getAdmin){t.next=9;break}throw new Error(s.errors[0].message);case 9:n(Je(s.data.getAdmin)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={query:'\n                    mutation {\n                        updateAdmin( adminId: "'.concat(e.userId,'", name: "').concat(e.name,'",\n                          publicId: "').concat(e.publicId,'") {\n                            userId\n                            name\n                            email\n                            publicId\n                        }\n                      }\n                    ')},t.prev=1,a=x(r),t.next=5,h()(a);case 5:if(c=t.sent,(s=c.data).data.updateAdmin){t.next=9;break}return t.abrupt("return",console.error(s.errors[0].message));case 9:return t.next=11,n(Je(s.data.updateAdmin));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",console.error(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},He=function(e){var t=e.userId,n=e.role,c=Object(D.c)((function(e){return e.admin})).admin,s=Object(D.b)(),u=Object(r.useState)(c.publicId),i=Object(o.a)(u,2),l=i[0],m=i[1],d=Object(r.useState)(!1),b=Object(o.a)(d,2),v=b[0],h=b[1],g=Object(r.useState)({name:"",image:""}),E=Object(o.a)(g,2),I=E[0],x=E[1];Object(r.useEffect)((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(Te(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,t]);var k=function(){h(!0),x((function(){return{name:c.name,image:c.publicId}}))},O=Object(r.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t[0]),e.next=3,_(n);case 3:r=e.sent,a=r.data,m((function(){return a.public_id}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),N=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y({name:I.name||c.name,userId:c.userId},l||c.publicId),e.next=3,s(Me(t));case 3:setTimeout((function(){h(!1)}),1e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(De,{user:c,handleModal:k,role:n}),a.a.createElement(Ne,{modal:v,handleClose:function(){h(!1),m((function(){return c.publicId}))},handleModal:k,userRole:c.role,cloudinaryImage:l,onDrop:O,user:I,handleChange:function(e){j(e,x)},handleSave:N}))},Ue=function(e){var t=e.userId,n=e.role;return a.a.createElement(a.a.Fragment,null,"Admin"===n&&a.a.createElement(He,{userId:t,role:n}),"Proffesor"===n&&a.a.createElement(Re,{userId:t,role:n}),"Student"===n&&a.a.createElement(Fe,{userId:t,role:n}))},We=(n(204),function(){var e=Object(D.b)(),t=Object(D.c)((function(e){return e.student})).students;return a.a.useEffect((function(){e(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r={query:'\n                query {\n                    getStudentsWithCoursesName(name: "ori mazrafi") {\n                        name\n                        email\n                        role\n                        publicId\n                        registerCourses{\n                            id\n                            name\n                        }\n                }\n              }\n                  '},e.prev=2,a=x(r),e.next=6,h()(a);case 6:if(c=e.sent,(s=c.data).data.getStudentsWithCoursesName){e.next=10;break}return e.abrupt("return",new Error(s.errors[0].message));case 10:t(V(s.data.getStudentsWithCoursesName)),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",new Error(e.t0.message));case 16:return n=!0,e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a.a.createElement("div",{className:"students__wrapper"},a.a.createElement("div",{className:"students__list__container"},t.length&&t.map((function(e){return a.a.createElement("div",{className:"card",key:e.email},a.a.createElement("h5",{className:"card-title"}," ",e.name," "),a.a.createElement("img",{src:"".concat(I,"/").concat(e.publicId),alt:"profile"}),a.a.createElement("div",{className:"card-body card__student__courses____body"},a.a.createElement("h6",{className:"text-primary"},"Register courses"),a.a.createElement("small",{className:"card__small__register"},e.registerCourses&&e.registerCourses.map((function(e){return a.a.createElement("p",{key:e.name},a.a.createElement("b",null,e.name))})))))}))))}),$e=function(){var e=Object(D.c)((function(e){return e.course})).courses,t=Object(D.b)();return a.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t($("userId"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),a.a.createElement("div",{style:{width:"100%"}},a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement("h4",null,"currently you have",a.a.createElement("b",null,e&&" "+e.reduce((function(e,t){return e+t.registerStudents.length}),0)+" "),"courses that are register"),a.a.createElement("h2",null,"Your university as income of"," "+2e3*e.reduce((function(e,t){return e+t.registerStudents.length}),0),"$")))},Be=n(283),Ke=n(122),Xe=n.n(Ke),Ye=n(123),Ge=n.n(Ye),Qe=(n(237),Xe()("/8000")),Ve=function(){Object(r.useRef)(null);var e=Object(r.useRef)(),t=Object(D.b)(),n=Object(i.g)(),c=a.a.useState(""),s=Object(o.a)(c,2),u=s[0],l=s[1],m=a.a.useState([]),d=Object(o.a)(m,2),b=d[0],v=d[1];a.a.useEffect((function(){var e=function(){var e=Object(f.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(W(n.location.state.courseId));case 2:(r=e.sent).courseChat.length>0&&v(r.courseChat);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Qe.emit("Join",n.location.state.courseId),Qe.on(n.location.state.courseId,(function(e){v((function(t){return[].concat(Object(X.a)(t),[e.msg])}))})),e(),function(){Qe.disconnect()}}),[t,n]);var h=function(){var e=n.location.state.studentId||n.location.state.proffesorId,t=n.location.state.courseId,r=n.location.state.name,a=n.location.state.publicId,c=Ge()(new Date).format("HH:mm");Qe.emit(n.location.state.courseId,{message:u,userId:e,userName:r,courseId:t,time:c,publicId:a,type:"text"}),l("")};return a.a.createElement("div",{className:"chat__wrapper"},a.a.createElement("h2",null," Real Time Chat"),a.a.createElement("div",{className:"messages__container"},b&&b.length>0&&b.map((function(e,t){return a.a.createElement("div",{key:t},e.time+" ",a.a.createElement("img",{className:"student__profile__modal",src:"".concat(I,"/").concat(e.publicId),alt:"profile"})," "+e.message)}))),a.a.createElement("div",{className:"chat__container",ref:e},a.a.createElement("input",{type:"text",placeholder:"Let's start talking",value:u,onChange:function(e){l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),h())}}),a.a.createElement("button",{className:"btn btn-primary",onClick:h}," ",a.a.createElement(Be.a,{type:"enter"}))))},Ze=(n(279),n(280),function(){var e=a.a.useState({name:"",token:"",role:"",userId:"",publicId:""}),t=Object(o.a)(e,2),n=t[0],r=t[1],c=localStorage.getItem("credentials");return a.a.useEffect((function(){if(null!==c){var e=JSON.parse(c),t=e.name,n=e.token,a=e.role,s=e.userId,o=e.publicId;r({name:t,token:n,role:a,userId:s,publicId:o})}}),[c]),a.a.createElement(u.a,null,a.a.createElement(l,{name:n.name,token:n.token,role:n.role}),a.a.createElement("div",{className:"routes-wrapper"},a.a.createElement(i.d,null,n.token&&"Student"===n.role&&a.a.createElement(i.b,{exact:!0,path:"/auth"},a.a.createElement(i.a,{to:"/courses"})),n.token&&"Proffesor"===n.role&&a.a.createElement(i.b,{exact:!0,path:"/auth"},a.a.createElement(i.a,{to:"/activity"})),n.token&&"Admin"===n.role&&a.a.createElement(i.b,{exact:!0,path:"/auth"},a.a.createElement(i.a,{to:"/payments"})),n.token&&a.a.createElement(i.b,{exact:!0,path:"/auth"},a.a.createElement(i.a,{to:"/home"})),!n.token&&a.a.createElement(i.b,{exact:!0,path:"/"},a.a.createElement(i.a,{to:"/auth"})),a.a.createElement(i.b,{path:"/home",component:m}),a.a.createElement(i.b,{path:"/auth",component:A}),n.token&&"Proffesor"!==n.role&&a.a.createElement(i.b,{path:"/courses"},a.a.createElement(pe,{userId:n.userId,role:n.role})),a.a.createElement(i.b,{path:"/logout",component:be}),n.token&&"Admin"===n.role&&a.a.createElement(i.b,{path:"/proffesores",component:je}),n.token&&"Admin"===n.role&&a.a.createElement(i.b,{path:"/students",component:We}),n.token&&"Admin"===n.role&&a.a.createElement(i.b,{path:"/payments",component:$e}),n.token&&a.a.createElement(i.b,{path:"/activity"},a.a.createElement(Ae,{name:n.name,role:n.role,userId:n.userId,publicId:n.publicId})),a.a.createElement(i.b,{path:"/my-profile"},a.a.createElement(Ue,{userId:n.userId,role:n.role})),a.a.createElement(i.b,{path:"/chat/:id",component:Ve}),a.a.createElement(i.b,{path:"/",component:fe}))))}),et=n(40),tt=Object(R.a)({reducer:{admin:ze,proffesor:ye,student:ee,course:H},middleware:[et.a]});s.a.render(a.a.createElement(D.a,{store:tt},a.a.createElement(Ze,null)),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.0a725e31.chunk.js.map